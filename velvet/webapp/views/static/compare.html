<html>
    <head>
        <title>Doc2Vec</title>
    </head>

    <style>
        body{
            text-align: center;
        }
        #container{
            margin: 0 auto;
            width: 800px;
        }
        #similar{

        }
        #similar input{
            margin-top: 10px;
        }
        #similar #descriptions{
            margin-top: 10px;
            text-align: left;
            width:100%;
        }
        #similar #descriptions .breaker{
            margin: 10px;
            font-size: 200%
            width:100%;
        }
        #user_desc {
            width: 300px;
            height: 100px;
        }
    </style>

    <body>
        <div id='container'>
            <div id='similar'>
                <h1>Find similar job postings</h1>
                <textarea id='user_desc'></textarea>
                <br>
                <input type='button' value='Find similar descriptions' onclick='load_sim()'\>
                <div id='descriptions'>
                    
                </div>
            </div>
        </div>
        <script>
            
            function load_sim(){
            	let user_text = document.getElementById('user_desc').value
            	let similar_postings = document.getElementById('descriptions')


            	function parse_return(data){
            		data = JSON.parse(data)
                    console.log(data)
                    similar_postings.innerHTML = ''
            	    for (var key in data){
                        similar_postings.innerHTML += data[key]
                        similar_postings.innerHTML += '<div class= "breaker">********************</div>'
            	    }
            	}

        	fetch('/get_similiar_posting?' + new URLSearchParams({
        	    	'query_string': user_text}))
        	    	.then(response => response.json())
        			.then((data) => parse_return(data))
            }
    
        </script>
        
    </body>
</html>